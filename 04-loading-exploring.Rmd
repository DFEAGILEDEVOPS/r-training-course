# Loading and exploring data

## Loading in data

The most common process to load in data is to load in a CSV file. Remember in chapter 2 we saved our tutorial data into our folder `Data` inside our project called `R_Training`

```{r sec4_1,echo=FALSE}
#Load in data
swfc_16_init <- read.csv("data/SWFC_2016_Machine_Readable.csv")
swfc_16 <- swfc_16_init
```

```{r sec4_2,eval=FALSE}
#Load in data
swfc_16_init <- read.csv("Data/SWFC_2016_Machine_Readable.csv")
swfc_16 <- swfc_16_init
```

<div class="tip"><b>Tip:</b>
Load in and create and initial, raw version of the file, and never do anything to that object. This means if you muck anything up, you'll always have a clean dataset to start again from. This is particularly important when loading in big dataframes, such as those from SQL.
</div>
<br/>

## Basic dataframe functions

There are a number of functions which can be used to gain a summary of data: 

```{r sec4_3,eval=FALSE}
#Basic dataframe exploration functions
summary(swfc_16) #Get a summary of each variable
```

<div class="tip"><b>Tip:</b>
This worksheet is built using an add on to R called R Markdown, which integrates code, text, and images. We'll come on to how to create R Markdown documents later, but for now, the box below with a white background and grey border is an output from the above code as it renders in R Markdown. Remember this, it will appear a lot in the worksheet.
</div>
<br/>

```{r sec4_4,echo=FALSE}
#Basic dataframe exploration functions
summary(swfc_16[,c(1:6)]) #Get a summary of each variable
```

We can take a look at our data by using the `View()` function, so we can get a look and feel for it. 

```{r sec4_5,eval=FALSE}
#Look at the dataframe
View(swfc_16) 
```

## Overview of variable types

R interprets columns of our data based on their values. Sometimes R doesn't interpret data in a way that we would understand the data to be. 

```{r sec4_6, include = FALSE}
library(knitr)
variable_types <- data.frame(`Variable Type`  = c("Numeric (num)", "Integer (int)", "Character (chr)", "Factor (Factor)","Logical (logi)"),
                             `Definition` = c("Interpreted as a number that doesn't have to be an integer", "An Integer", "A word or multiple words", "A categorical variable","A boolean value, must be TRUE or FALSE"), check.names = FALSE)

```

```{r sec4_7, echo = FALSE}
kable(variable_types)
```

**Why is this important?**

R is essentially a calculator and can only perform tasks that it deems to be possible. If it interprets a variable to be in words (a `character`), it is unable to perform any mathematics on it, even if the variable contains what we would understand as numeric values. 

**Understanding variable types**

We can see how R has interpreted each column by using the class function. We do this by passing the name of our dataframe into R and then accessing the column of interest after using a `$`. The `$` allows us to access individual columns of the data. 

```{r sec4_8, eval=FALSE}
# To discover one variable type from a dataframe
class(dataframe$variable_name)
```

In our example, to understand how R interpreted the local authority name column `LA_Name` from the dataframe `swfc_16`, we'd run:

```{r sec4_9}
class(swfc_16$LA_Name)
```

It has been interepreted as a factor, which to you and I would be like a categorical variable.

<div class="tip"><b>Tip:</b>
We can find the classes of all of the variables in a dataframe by running `str(dataframe)`
</div>
<br/>
